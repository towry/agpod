# Example agpod configuration
# Place this at $XDG_CONFIG_HOME/agpod/config.toml (or ~/.config/agpod/config.toml)
# or .agpod.toml in your project root
#
# The XDG_CONFIG_HOME environment variable is respected for the global config location,
# making it easy to test different configurations without affecting your default setup.
#
# This configuration file now supports feature-specific sections:
# - [kiro] for PR draft workflow settings
# - [diff] for git diff minimization settings

# Configuration version (for tracking schema changes and deprecations)
version = "1"

# Kiro workflow configuration
[kiro]
base_dir = "llm/kiro"
templates_dir = "~/.config/agpod/templates"
plugins_dir = "~/.config/agpod/plugins"
template = "default"
summary_lines = 3

[kiro.plugins.name]
enabled = true
command = "name.sh"
timeout_secs = 3
pass_env = ["AGPOD_*", "GIT_*", "USER", "HOME"]

[kiro.rendering]
files = ["DESIGN.md.j2", "TASK.md.j2"]
extra = []
missing_policy = "error"

# Template-specific configurations for Kiro
[kiro.templates.default]
description = "Standard PR draft template with design and task documents"
files = ["DESIGN.md.j2", "TASK.md.j2"]
missing_policy = "error"

[kiro.templates.vue]
description = "Vue.js component development template"
files = ["DESIGN.md.j2", "TASK.md.j2", "COMPONENT.md.j2"]
missing_policy = "skip"

[kiro.templates.rust]
description = "Rust implementation template with detailed design"
files = ["DESIGN.md.j2", "TASK.md.j2", "IMPL.md.j2"]
missing_policy = "error"

# Diff minimization configuration
[diff]
# Default output directory for saved diff chunks
output_dir = "llm/diff"

# Threshold for considering a file "large" (number of changes)
large_file_changes_threshold = 100

# Threshold for considering a file "large" (total lines)
large_file_lines_threshold = 500

# Maximum consecutive empty lines to keep in output
max_consecutive_empty_lines = 2
